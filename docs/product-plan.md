# 产品规划

本文件详细介绍了 "墨阁" 应用未来的核心功能模块规划。

---

## 1. `工作台` (/workspace) 模块

- **欢迎与快速入口**: 显示个性化问候，并提供“新建大纲”、“新建文稿”等核心操作的快捷按钮。
- **最近项目**: 以列表形式展示最近编辑过的文档（大纲、章节、设定），方便快速投入工作。
- **统计概览**: 以卡片和微图表形式，展示“今日字数”、“本周动态”等关键数据，作为“统计”页面的精简版。
- **创作目标/待办清单**: 提供一个简易的 To-Do List，帮助作者管理每日写作计划。
- **灵感便签**: 一个用于随手记录零散想法的区域。

---

## 2. `文稿` (/manuscripts) 模块

- **文稿列表**: 集中展示所有“小说项目”。
- **状态管理**: 支持按“进行中”、“已完结”、“构思中”等状态对小说项目进行筛选和管理。
- **章节组织**: 在每个文稿内部，提供创建、排序和管理章节的能力。

---

## 3. `设定集` (/settings) 模块

### 功能概述

`设定集`是创作所需的一切背景设定的"专属维基百科"，包含角色、系统、世界观等。它分为与单个小说项目强绑定的**项目设定**，以及可跨项目复用的**独立设定库**。

### 核心功能点

- **项目管理**:
  - 支持创建、编辑、删除小说项目。
  - 项目信息包含名称、类型、描述等。
  - 创建项目时，可从独立设定库中选择并关联已有的设定。

- **设定分类**:
  - 每个项目包含四大类设定：**角色设定**、**系统/金手指**、**世界背景**、**辅助设定**。
  - 首页提供项目列表及各项目的设定统计。
  - 项目详情页展示四大分类的入口。

- **独立设定库**:
  - 提供独立的设定管理中心，所有设定均可在此创建和管理，不与任何项目耦合。
  - 支持按分类（角色、系统、世界、辅助）查看和管理。

- **设定项管理 (CRUD)**:
  - 支持对所有类型的设定项进行完整的创建、查看、编辑、删除功能。
  - 支持列表/网格视图切换、多维度筛选和排序。
  - 支持批量操作。

- **模板化创建**:
  - 为不同设定类型（如主角、反派、升级系统）提供预设模板。

- **智能关联与引用**:
  - 支持在编辑器中通过 `@` 符号快速引用设定项。
  - 引用后可悬浮预览、点击跳转。
  - 设定详情页可反向查看所有引用了该设定的章节。

- **AI 生成增强**:
  - AI 生成大纲或正文时，能自动使用项目关联的设定作为上下文，保证内容一致性。

### 各设定模块功能详述

#### 角色设定 (`/settings/[projectId]/characters`)

- **基础信息**: 姓名、年龄、性别、身份、职业等。
- **外貌描述**: 相貌特征、身材体型、着装风格等。
- **性格特点**: 性格标签、说话方式、行为习惯等。
- **背景故事**: 出身来历、成长经历、关系网络等。
- **能力设定**: 实力等级、特殊技能、武器装备等。
- **角色关系**: 可添加与其他角色的关系（家庭、社会、情感等）。

#### 系统/金手指 (`/settings/[projectId]/systems`)

- **系统类型**: 如升级、签到、抽奖、商城等。
- **功能机制**: 运作规则、触发条件、限制约束。
- **等级体系**: 境界划分、升级条件、经验获取方式。
- **道具装备**: 物品分类、属性效果、获取途径。
- **数值设定**: 各种参数配置、公式计算。

#### 世界背景 (`/settings/[projectId]/worlds`)

- **基础信息**: 世界名称、类型、时代背景等。
- **地理环境**: 地形地貌、气候条件、重要地点。
- **政治势力**: 国家政权、门派宗教、家族氏族等。
- **文化体系**: 社会制度、生活方式、语言文字、宗教信仰。
- **修炼/力量体系**: 功法分级、修炼境界、突破条件。
- **历史脉络**: 重大事件、关键节点、历史人物、时间线。

#### 辅助设定 (`/settings/[projectId]/misc`)

这是一个创作工具集，提供多种实用工具：

- **灵感记录**: 记录零散想法、创意片段、剧情灵感。
- **参考资料**: 管理图片素材、文档资料、网页链接。
- **创作笔记**: 撰写章节大纲草稿、人物关系图、情节线索。
- **专业术语**: 管理行业黑话、专业词汇、自创名词。
- **模板库**: 保存常用桥段、剧情模板、对话模板。
- **项目标签**: 自定义项目相关的标签分类。

---

## 4. `字典管理` (/dictionary) 模块

### 功能概述

作为全局数据字典管理中心，维护系统级的、可复用的标准化数据。

### 功能模块

- **小说类型管理**: 管理小说的预设类型（如玄幻、都市）和自定义类型。
- **小说标签库**: 管理题材、风格、情节、角色等不同维度的标签。
- **专业术语库**: 管理各行业专业词汇、古风词汇、网络用语等。
- **模板库**: 管理角色、系统、世界观、情节等常用模板。

### 核心特性

- **分级权限**: 支持系统级（管理员）、用户级（个人）、项目级（项目专属）三级权限。
- **数据同步与共享**: 支持导入导出、社区共享、版本控制。
- **智能辅助**: 在创作中提供自动补全、语义检查、关联推荐等功能。

---

## 5. `统计` (/stats) 模块

- **深度分析**: 提供独立、强大的数据分析功能。
- **功能**: 支持按时间范围（本周、本月、本年）查看详细的字数趋势图、项目贡献度分析、写作活跃时间分布等。
